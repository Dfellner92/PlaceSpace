{"ast":null,"code":"import _regeneratorRuntime from\"/Users/danielfellner/Desktop/postBootcampProjects/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/danielfellner/Desktop/postBootcampProjects/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/danielfellner/Desktop/postBootcampProjects/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import UsersList from'../components/UsersList';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{useHttpClient}from'../../shared/hooks/http-hook';var Users=function Users(){var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;//const [isLoading, setIsLoading] = useState(false);\n//const [error, setError] = useState();\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),loadedUsers=_useState2[0],setLoadedUsers=_useState2[1];// const USERS = [\n//     {\n//         id: 'u1', \n//         name: 'Dan Fellner', \n//         image: 'https://i.picsum.photos/id/997/200/300.jpg?hmac=NeXq5MvhpKvGEq_X3jULp2C3Lg-8IQK8bdtnyJeXDIQ', \n//         places: 3\n//     }\n// ];\nuseEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(process.env.REACT_APP_BACKEND_URL+'/users');case 3:responseData=_context.sent;setLoadedUsers(responseData.users);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();// using useCallback in http-hook allows\n// sendRequest not to be rerendered\n},[sendRequest]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(LoadingSpinner,null)),!isLoading&&loadedUsers&&/*#__PURE__*/React.createElement(UsersList,{items:loadedUsers}),\";\");};export default Users;","map":{"version":3,"sources":["/Users/danielfellner/Desktop/postBootcampProjects/Frontend/src/user/pages/Users.js"],"names":["React","useEffect","useState","UsersList","ErrorModal","LoadingSpinner","useHttpClient","Users","isLoading","error","sendRequest","clearError","loadedUsers","setLoadedUsers","fetchUsers","process","env","REACT_APP_BACKEND_URL","responseData","users"],"mappings":"ghBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+CAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mDAA3B,CACA,OAASC,aAAT,KAA8B,8BAA9B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,oBACsCD,aAAa,EADnD,CACRE,SADQ,gBACRA,SADQ,CACGC,KADH,gBACGA,KADH,CACUC,WADV,gBACUA,WADV,CACuBC,UADvB,gBACuBA,UADvB,CAEhB;AACA;AAHgB,cAIsBT,QAAQ,EAJ9B,wCAITU,WAJS,eAIIC,cAJJ,eAKhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAZ,SAAS,CAAC,UAAM,CACZ,GAAMa,CAAAA,UAAU,0FAAG,0LAEgBJ,CAAAA,WAAW,CAClCK,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,QADF,CAF3B,QAELC,YAFK,eAKXL,cAAc,CAACK,YAAY,CAACC,KAAd,CAAd,CALW,iJAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAQAA,UAAU,GACV;AACA;AACH,CAZQ,CAYN,CAACJ,WAAD,CAZM,CAAT,CAgBA,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,oBAAC,UAAD,EAAY,KAAK,CAAED,KAAnB,CAA0B,OAAO,CAAEE,UAAnC,EADJ,CAEKH,SAAS,eACN,2BAAK,SAAS,CAAC,QAAf,eACI,oBAAC,cAAD,MADJ,CAHR,CAOK,CAACA,SAAD,EAAcI,WAAd,eAA6B,oBAAC,SAAD,EAAW,KAAK,CAAEA,WAAlB,EAPlC,KADJ,CAWH,CAxCD,CA0CA,cAAeL,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport UsersList from '../components/UsersList';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\n\nconst Users = () => {\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n    //const [isLoading, setIsLoading] = useState(false);\n    //const [error, setError] = useState();\n    const [loadedUsers, setLoadedUsers] = useState();\n    // const USERS = [\n    //     {\n    //         id: 'u1', \n    //         name: 'Dan Fellner', \n    //         image: 'https://i.picsum.photos/id/997/200/300.jpg?hmac=NeXq5MvhpKvGEq_X3jULp2C3Lg-8IQK8bdtnyJeXDIQ', \n    //         places: 3\n    //     }\n    // ];\n    useEffect(() => {\n        const fetchUsers = async () => {\n            try {\n                const responseData = await sendRequest(\n                    process.env.REACT_APP_BACKEND_URL + '/users'\n                );\n                setLoadedUsers(responseData.users);\n            } catch (err) {}\n        };\n        fetchUsers();\n        // using useCallback in http-hook allows\n        // sendRequest not to be rerendered\n    }, [sendRequest]);\n\n    \n\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError}/>\n            {isLoading && (\n                <div className=\"center\">\n                    <LoadingSpinner />\n                </div>\n            )}\n            {!isLoading && loadedUsers && <UsersList items={loadedUsers}/>};\n        </React.Fragment>\n    )\n};\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}